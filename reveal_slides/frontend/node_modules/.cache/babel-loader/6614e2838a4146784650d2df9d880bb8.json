{"ast":null,"code":"import _objectSpread from\"/home/anasbouzid/streamlit-reveal-slides/reveal_slides/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/home/anasbouzid/streamlit-reveal-slides/reveal_slides/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import{createGlobalStyle as _createGlobalStyle}from\"styled-components\";var _excluded=[\"html\",\"innerRef\"];import{Streamlit,withStreamlitConnection}from\"streamlit-component-lib\";import{useEffect,useMemo,useRef}from\"react\";import Reveal from'reveal.js';import RevealMarkdown from'reveal.js/plugin/markdown/markdown';import RevealHighlight from'reveal.js/plugin/highlight/highlight';import RevealMath from'reveal.js/plugin/math/math';import RevealSearch from'reveal.js/plugin/search/search';import RevealNotes from'reveal.js/plugin/notes/notes';import RevealZoom from'reveal.js/plugin/zoom/zoom';import'reveal.js/dist/reveal.css';import'reveal.js/plugin/highlight/monokai.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GlobalCSS=_createGlobalStyle([\"\",\"\"],function(props){return props.inject;});var includedPlugins={\"markdown\":RevealMarkdown,\"highlight\":RevealHighlight,\"katex\":RevealMath.KaTeX,\"mathjax2\":RevealMath.MathJax2,\"mathjax3\":RevealMath.MathJax3,\"search\":RevealSearch,\"notes\":RevealNotes,\"zoom\":RevealZoom};// const simpleCommands = {\"left\": Reveal.left, \"right\": () => {Reveal.right()}, \"up\": Reveal.up, \"down\": Reveal.down, \"prev\": Reveal.prev, \"next\": Reveal.next, \"prevFragment\": Reveal.prevFragment, \"nextFragment\": Reveal.nextFragment, \"togglePause\": Reveal.togglePause, \"toggleAutoSlide\": Reveal.toggleAutoSlide, \"toggleHelp\": Reveal.toggleHelp, \"toggleOverview\": Reveal.toggleOverview, \"shuffle\": Reveal.shuffle}\n// const commandsWithArgs = {slide: Reveal.slide, togglePause: Reveal.togglePause, toggleAutoSlide: Reveal.toggleAutoSlide, toggleHelp: Reveal.toggleHelp, toggleOverview: Reveal.toggleOverview}\nvar defaultConfig={// The \"normal\" size of the presentation, aspect ratio will be preserved\n// when the presentation is scaled to fit different resolutions\nwidth:900,height:860,// Factor of the display size that should remain empty around the content\nmargin:0.05,// Bounds for smallest/largest possible scale to apply to content\nminScale:0.1,maxScale:3.0,// Help the user learn the controls by providing hints, for example by\n// bouncing the down arrow when they first encounter a vertical slide\ncontrolsTutorial:true,// Determines where controls appear, \"edges\" or \"bottom-right\"\ncontrolsLayout:'edges'};// This new component allows us to set the innerHTML of a div in a way \n// that allows code to be executed. THIS IS NOT SAFE. This is a workaround\n// for something that isnt allowed for a reason. The user of the `reveal_slides`\n// component is responsable for ensuring that the html (and js) they pass in is safe.\nvar DangerousDiv=function DangerousDiv(_ref){var html=_ref.html,innerRef=_ref.innerRef,rest=_objectWithoutProperties(_ref,_excluded);var divRef=useRef(null);useEffect(function(){if(!html)return;var newInnerHtml=document.createRange().createContextualFragment(html);// Create a 'tiny' document and parse the html string\nconsole.log(divRef);divRef.current.innerHTML='';// Clear the container\ndivRef.current.appendChild(newInnerHtml);// Append the new content\n},[html]);return/*#__PURE__*/_jsx(\"div\",_objectSpread({ref:function ref(element){// This function passes the ref to the this div wrapper component\n// AND passes it to the innerRef prop which is used by the parent\n// of the wrapper component. This special handling allows for innerRef \n// to be a function or a ref object.\ndivRef.current=element;if(typeof innerRef==='function'){innerRef(element);}else{innerRef.current=element;}}},rest));};/**\n * This is a React-based component template. The `render()` function is called\n * automatically when your component should be re-rendered.\n */var RevealSlides=function RevealSlides(_ref2){var args=_ref2.args,disabled=_ref2.disabled;var configStr=JSON.stringify(args[\"config\"]);var initStateStr=JSON.stringify(args[\"initial_state\"]);// const commandStr = JSON.stringify(args[\"commands\"])\nvar setupConfig=function setupConfig(configString){var config=_objectSpread(_objectSpread({},defaultConfig),JSON.parse(configStr));// code to run after render goes here\nif(args[\"allow_unsafe_html\"]){if('plugins'in config){var arr=config['plugins'];arr.forEach(function(moduleName,index){if(moduleName in includedPlugins){arr[index]=includedPlugins[moduleName];}else{arr[index]=null;}});config['plugins']=arr.filter(function(x){return!!x;});}}else{if('plugins'in config){var arr=config['plugins'];arr.forEach(function(moduleName,index){if(moduleName in includedPlugins){arr[index]=includedPlugins[moduleName];}else{arr[index]=null;}});config['plugins']=arr.filter(function(x){return!!x;});if(!config['plugins'].includes(RevealMarkdown)){config['plugins'].push(RevealMarkdown);}}else{config['plugins']=[RevealMarkdown];}}return config;};useMemo(function(){// code to run on component mount goes here\n// To do: remove or disable previously imported css. When the list of\n// css imports exceed about 25, the page no longer updates.\nimport('../node_modules/reveal.js/dist/theme/'+args.theme+'.css').then(function(css){try{Reveal.layout();}catch(e){console.warn(\"Reveal.layout() call failed.\");}}).catch(function(err){console.warn(\"Failed CSS import: \",err);});},[args.theme]);useEffect(function(){var config=setupConfig(configStr);try{Reveal.destroy();}catch(e){}Reveal.initialize(config).then(function(){// reveal.js is ready\n// For some yet to be determined reason, the highlight plugin is not initialized.\n// Setting highlight config option highlightOnLoad to true (before passing to initialize function)\n// does not work\n// To Do: make sure the highlight plugin only changes the HTML involving the code once instead of many times.\n// Possible solution is to make a change to the plugin init function.\nvar highlighter=Reveal.getPlugin('highlight');if(highlighter){highlighter.init(Reveal);}var initState=JSON.parse(initStateStr);if(Object.keys(initState).length!==0){Reveal.setState(initState);}if(!args['display_only']){// Send slide position indecies back to Streamlit on initialization and on slide change\nvar currState=Reveal.getState();Streamlit.setComponentValue(currState);Reveal.on('slidechanged',function(event){var tempState=Reveal.getState();Streamlit.setComponentValue({indexh:event.indexh,indexv:event.indexv,indexf:tempState.indexf,paused:tempState.paused,overview:tempState.overview});});Reveal.on('fragmentshown',function(event){// event.fragment = the fragment DOM element\nvar tempState=Reveal.getState();Streamlit.setComponentValue(tempState);});Reveal.on('fragmenthidden',function(event){// event.fragment = the fragment DOM element\nvar tempState=Reveal.getState();Streamlit.setComponentValue(tempState);});Reveal.on('overviewshown',function(event){// event.overview = the overview DOM element\nvar tempState=Reveal.getState();Streamlit.setComponentValue(tempState);});Reveal.on('overviewhidden',function(event){// event.overview = the overview DOM element\nvar tempState=Reveal.getState();Streamlit.setComponentValue(tempState);});Reveal.on('paused',function(event){// event.fragment = the fragment DOM element\nvar tempState=Reveal.getState();Streamlit.setComponentValue(tempState);});Reveal.on('resumed',function(event){// event.fragment = the fragment DOM element\nvar tempState=Reveal.getState();Streamlit.setComponentValue(tempState);});}});return function(){// code to run on component unmount goes here\nReveal.destroy();};},[]);// Reconfigure reveal.js if config changes\nuseEffect(function(){var existingPlugins=Reveal.getPlugins();var config=setupConfig(configStr);// Add and register plugins that are not already loaded\nvar existingPluginsList=Object.values(existingPlugins).map(function(plugin){return plugin.id;});if('plugins'in args[\"config\"]){var plugins=args[\"config\"][\"plugins\"];plugins.forEach(function(plugin){if(plugin&&existingPluginsList.indexOf(plugin)===-1){Reveal.registerPlugin(includedPlugins[plugin]);}});//// Remove plugins that are no longer in the list (does not work yet..some signs there is a bug in Reveal.Plugin)\n// Object.values(existingPlugins as {[id: string]: Reveal.Plugin;}).forEach((plugin: any) => {\n//   if (plugin.id && plugin.id !=='markdown' && plugins.indexOf(plugin.id) === -1){\n//     console.log(\"destroy plugin: \" + plugin.id);\n//     if( typeof plugin.destroy === 'function' ) {\n//       plugin.destroy();\n//     }\n//   }\n// });\n}// Reconfigure reveal.js\nReveal.configure(config);},[configStr,args[\"allow_unsafe_html\"]]);useEffect(function(){var initState=JSON.parse(initStateStr);if(Reveal.isReady()&&Object.keys(initState).length!==0){Reveal.setState(initState);}},[initStateStr]);useEffect(function(){if(Reveal.isReady()){if(disabled){Reveal.togglePause(true);var viewport=Reveal.getViewportElement();if(viewport){viewport.style.pointerEvents=\"none\";}}else{Reveal.togglePause(false);var _viewport=Reveal.getViewportElement();if(_viewport){_viewport.style.pointerEvents=\"auto\";}}}},[disabled]);//To do: add support for commands (i.e. control slides from Streamlit)\n//-----------------\n//\n/**\n   * resizeObserver observes changes in elements its given to observe and is used here\n   * to communicate to streamlit the height of the component that has changed\n   * so that streamlit can adjust the iframe containing the component accordingly.\n   */var resizeObserver=new ResizeObserver(function(entries){// If we know that the body will always fully contain our component (without cutting it off)\n// then we can use docuemnt.body height instead\nif(args[\"height\"]===\"auto\"||typeof args[\"height\"]!==\"number\"){var _entries$0$contentBox;Streamlit.setFrameHeight((_entries$0$contentBox=entries[0].contentBoxSize.blockSize)!==null&&_entries$0$contentBox!==void 0?_entries$0$contentBox:entries[0].contentRect.height);if(Reveal.isReady()){Reveal.layout();}}else{Streamlit.setFrameHeight(args[\"height\"]);if(Reveal.isReady()){Reveal.layout();}}});var observe=function observe(divElem){divElem?resizeObserver.observe(divElem):resizeObserver.disconnect();};if(args[\"allow_unsafe_html\"]){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(GlobalCSS,{inject:args.css}),/*#__PURE__*/_jsx(DangerousDiv,{innerRef:observe,className:\"slides\",html:args[\"content\"]})]});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(GlobalCSS,{inject:args.css}),/*#__PURE__*/_jsx(\"div\",{ref:observe,className:\"slides\",children:/*#__PURE__*/_jsx(\"section\",_objectSpread(_objectSpread({\"data-markdown\":\"\"},args[\"markdown_props\"]),{},{children:/*#__PURE__*/_jsx(\"script\",{type:\"text/template\",children:args[\"content\"]})}))})]});}};// \"withStreamlitConnection\" is a wrapper function. It bootstraps the\n// connection between your component and the Streamlit app, and handles\n// passing arguments from Python -> Component.\n//\n// You don't need to edit withStreamlitConnection (but you're welcome to!).\nexport default withStreamlitConnection(RevealSlides);","map":{"version":3,"names":["Streamlit","withStreamlitConnection","useEffect","useMemo","useRef","Reveal","RevealMarkdown","RevealHighlight","RevealMath","RevealSearch","RevealNotes","RevealZoom","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","GlobalCSS","createGlobalStyle","props","inject","includedPlugins","KaTeX","MathJax2","MathJax3","defaultConfig","width","height","margin","minScale","maxScale","controlsTutorial","controlsLayout","DangerousDiv","_ref","html","innerRef","rest","_objectWithoutProperties","_excluded","divRef","newInnerHtml","document","createRange","createContextualFragment","console","log","current","innerHTML","appendChild","_objectSpread","ref","element","RevealSlides","_ref2","args","disabled","configStr","JSON","stringify","initStateStr","setupConfig","configString","config","parse","arr","forEach","moduleName","index","filter","x","includes","push","theme","then","css","layout","e","warn","catch","err","destroy","initialize","highlighter","getPlugin","init","initState","Object","keys","length","setState","currState","getState","setComponentValue","on","event","tempState","indexh","indexv","indexf","paused","overview","existingPlugins","getPlugins","existingPluginsList","values","map","plugin","id","plugins","indexOf","registerPlugin","configure","isReady","togglePause","viewport","getViewportElement","style","pointerEvents","resizeObserver","ResizeObserver","entries","_entries$0$contentBox","setFrameHeight","contentBoxSize","blockSize","contentRect","observe","divElem","disconnect","children","className","type"],"sources":["/home/anasbouzid/streamlit-reveal-slides/reveal_slides/frontend/src/RevealSlides.tsx"],"sourcesContent":["import {\n  Streamlit,\n  ComponentProps,\n  withStreamlitConnection,\n  Theme,\n} from \"streamlit-component-lib\"\nimport { MutableRefObject, useEffect, useMemo, useRef } from \"react\"\nimport { createGlobalStyle } from \"styled-components/macro\"\n\nimport Reveal from 'reveal.js';\nimport RevealMarkdown from 'reveal.js/plugin/markdown/markdown';\nimport RevealHighlight from 'reveal.js/plugin/highlight/highlight';\nimport RevealMath from 'reveal.js/plugin/math/math';\nimport RevealSearch from 'reveal.js/plugin/search/search';\nimport RevealNotes from 'reveal.js/plugin/notes/notes';\nimport RevealZoom from 'reveal.js/plugin/zoom/zoom';\n\n\nimport 'reveal.js/dist/reveal.css';\nimport 'reveal.js/plugin/highlight/monokai.css';\n\ninterface RevealSlidesProps extends ComponentProps {\n  args: any\n  width: number\n  disabled: boolean\n  theme?: Theme\n}\n\ninterface DangerousDivProps extends React.HTMLAttributes<HTMLDivElement> {\n  html: string;\n  innerRef: React.Ref<HTMLDivElement>;\n}\n\nconst GlobalCSS = createGlobalStyle<{ inject: string}>`\n  ${props => props.inject}\n`\n\nconst includedPlugins = {\"markdown\": RevealMarkdown, \"highlight\": RevealHighlight, \"katex\": RevealMath.KaTeX, \"mathjax2\": RevealMath.MathJax2, \"mathjax3\": RevealMath.MathJax3, \"search\": RevealSearch, \"notes\": RevealNotes, \"zoom\": RevealZoom}\n// const simpleCommands = {\"left\": Reveal.left, \"right\": () => {Reveal.right()}, \"up\": Reveal.up, \"down\": Reveal.down, \"prev\": Reveal.prev, \"next\": Reveal.next, \"prevFragment\": Reveal.prevFragment, \"nextFragment\": Reveal.nextFragment, \"togglePause\": Reveal.togglePause, \"toggleAutoSlide\": Reveal.toggleAutoSlide, \"toggleHelp\": Reveal.toggleHelp, \"toggleOverview\": Reveal.toggleOverview, \"shuffle\": Reveal.shuffle}\n// const commandsWithArgs = {slide: Reveal.slide, togglePause: Reveal.togglePause, toggleAutoSlide: Reveal.toggleAutoSlide, toggleHelp: Reveal.toggleHelp, toggleOverview: Reveal.toggleOverview}\n\nconst defaultConfig = {\n  // The \"normal\" size of the presentation, aspect ratio will be preserved\n\t// when the presentation is scaled to fit different resolutions\n\twidth: 900,\n\theight: 860,\n\t\n\t// Factor of the display size that should remain empty around the content\n\tmargin: 0.05,\n\n\t// Bounds for smallest/largest possible scale to apply to content\n\tminScale: 0.1,\n\tmaxScale: 3.0,\n\n\t// Help the user learn the controls by providing hints, for example by\n\t// bouncing the down arrow when they first encounter a vertical slide\n\tcontrolsTutorial: true,\n\n\t// Determines where controls appear, \"edges\" or \"bottom-right\"\n\tcontrolsLayout: 'edges',\n}\n\n// This new component allows us to set the innerHTML of a div in a way \n// that allows code to be executed. THIS IS NOT SAFE. This is a workaround\n// for something that isnt allowed for a reason. The user of the `reveal_slides`\n// component is responsable for ensuring that the html (and js) they pass in is safe.\nconst DangerousDiv = ({html, innerRef, ...rest}: DangerousDivProps) => {\n\n  const divRef = useRef<HTMLDivElement>(null);\n\n  useEffect(function () {\n    if (!html) return;\n\n    const newInnerHtml = document.createRange().createContextualFragment(html); // Create a 'tiny' document and parse the html string\n    console.log(divRef);\n    divRef.current!.innerHTML = ''; // Clear the container\n    divRef.current!.appendChild(newInnerHtml); // Append the new content\n  }, [html]);\n\n  return (\n    <div \n      ref={(element) => {\n        // This function passes the ref to the this div wrapper component\n        // AND passes it to the innerRef prop which is used by the parent\n        // of the wrapper component. This special handling allows for innerRef \n        // to be a function or a ref object.\n        (divRef as MutableRefObject<HTMLDivElement>).current = element as HTMLDivElement\n        if (typeof innerRef === 'function') {\n          innerRef(element)\n        }\n        else {\n          (innerRef as MutableRefObject<HTMLDivElement>).current = element as HTMLDivElement\n        }\n      }} \n      {...rest} />\n  )\n}\n\n/**\n * This is a React-based component template. The `render()` function is called\n * automatically when your component should be re-rendered.\n */\nconst RevealSlides = ({ args, disabled }: RevealSlidesProps) => {   \n\n  let configStr = JSON.stringify(args[\"config\"])\n  let initStateStr = JSON.stringify(args[\"initial_state\"])\n  // const commandStr = JSON.stringify(args[\"commands\"])\n\n  const setupConfig = (configString: string) : object => {\n    const config = {...defaultConfig, ...JSON.parse(configStr)}\n    // code to run after render goes here\n    if (args[\"allow_unsafe_html\"]) {\n      if ('plugins' in config){\n        var arr = config['plugins'];\n        arr.forEach(function(moduleName: string, index: number) {\n          if (moduleName in includedPlugins){\n            arr[index] = (includedPlugins as any)[moduleName];\n          }\n          else {\n            arr[index] = null;\n          }\n        });\n        config['plugins'] = arr.filter((x:any) => !!x) as any[];\n      }\n    }\n    else {\n      if ('plugins' in config){\n        var arr = config['plugins'];\n        arr.forEach(function(moduleName: string, index: number) {\n          if (moduleName in includedPlugins){\n            arr[index] = (includedPlugins as any)[moduleName];\n          }\n          else {\n            arr[index] = null;\n          }\n        });\n        config['plugins'] = arr.filter((x:any) => !!x) as any[];\n        if(!config['plugins'].includes(RevealMarkdown)){\n          config['plugins'].push(RevealMarkdown);\n        }\n      }\n      else {\n        config['plugins'] = [RevealMarkdown];\n      }\n    }\n    return config;\n  }\n\n  useMemo(()=>{\n    // code to run on component mount goes here\n\n    // To do: remove or disable previously imported css. When the list of\n    // css imports exceed about 25, the page no longer updates.\n    import('../node_modules/reveal.js/dist/theme/' + args.theme + '.css').then((css) => {\n      try{\n        Reveal.layout();\n      }\n      catch (e){\n        console.warn(\"Reveal.layout() call failed.\")\n      }\n    }).catch((err) => {\n      console.warn(\"Failed CSS import: \", err);\n    });\n\n  }, [args.theme]);\n\n  useEffect(() => {\n    const config = setupConfig(configStr)\n    \n    try {\n      Reveal.destroy();\n    }\n    catch (e) {\n    }\n    Reveal.initialize(config).then(() => {\n      // reveal.js is ready\n      \n      // For some yet to be determined reason, the highlight plugin is not initialized.\n      // Setting highlight config option highlightOnLoad to true (before passing to initialize function)\n      // does not work\n      // To Do: make sure the highlight plugin only changes the HTML involving the code once instead of many times.\n      // Possible solution is to make a change to the plugin init function.\n      let highlighter = Reveal.getPlugin('highlight') as any;\n      if (highlighter){\n        highlighter.init(Reveal);\n      }\n      \n      const initState = JSON.parse(initStateStr);\n      if(Object.keys(initState).length !== 0){\n        Reveal.setState(initState);\n      }\n\n      if(!args['display_only']){\n        // Send slide position indecies back to Streamlit on initialization and on slide change\n        const currState = Reveal.getState();\n        Streamlit.setComponentValue(currState);\n        Reveal.on( 'slidechanged', event => {\n\n          const tempState = Reveal.getState();\n          Streamlit.setComponentValue({indexh: (event as any).indexh, indexv: (event as any).indexv, indexf: tempState.indexf, paused: tempState.paused, overview: tempState.overview});\n        });\n        \n        Reveal.on( 'fragmentshown', event => {\n          // event.fragment = the fragment DOM element\n          const tempState = Reveal.getState();\n          Streamlit.setComponentValue(tempState);\n        } );\n        Reveal.on( 'fragmenthidden', event => {\n          // event.fragment = the fragment DOM element\n          const tempState = Reveal.getState();\n          Streamlit.setComponentValue(tempState);\n        } );\n        Reveal.on( 'overviewshown', event => {\n          // event.overview = the overview DOM element\n          const tempState = Reveal.getState();\n          Streamlit.setComponentValue(tempState);\n        } );\n        Reveal.on( 'overviewhidden', event => {\n          // event.overview = the overview DOM element\n          const tempState = Reveal.getState();\n          Streamlit.setComponentValue(tempState);\n        } );\n        Reveal.on( 'paused', event => {\n          // event.fragment = the fragment DOM element\n          const tempState = Reveal.getState();\n          Streamlit.setComponentValue(tempState);\n        } );\n        Reveal.on( 'resumed', event => {\n          // event.fragment = the fragment DOM element\n          const tempState = Reveal.getState();\n          Streamlit.setComponentValue(tempState);\n        } );\n      }\n\n    });\n\n    return () => {\n      // code to run on component unmount goes here\n      Reveal.destroy();  \n    }\n  }, []);\n\n  // Reconfigure reveal.js if config changes\n  useEffect(() => {\n    const existingPlugins = Reveal.getPlugins();\n    const config = setupConfig(configStr)\n\n    // Add and register plugins that are not already loaded\n    let existingPluginsList : string[] = Object.values(existingPlugins).map((plugin: any) => plugin.id);\n    if('plugins' in args[\"config\"]){\n      const plugins = args[\"config\"][\"plugins\"];\n      (plugins as string[]).forEach((plugin: string) => {\n        if (plugin && existingPluginsList.indexOf(plugin) === -1){\n          Reveal.registerPlugin((includedPlugins as any)[plugin]);\n        }\n      });\n\n      //// Remove plugins that are no longer in the list (does not work yet..some signs there is a bug in Reveal.Plugin)\n      // Object.values(existingPlugins as {[id: string]: Reveal.Plugin;}).forEach((plugin: any) => {\n      //   if (plugin.id && plugin.id !=='markdown' && plugins.indexOf(plugin.id) === -1){\n      //     console.log(\"destroy plugin: \" + plugin.id);\n      //     if( typeof plugin.destroy === 'function' ) {\n      //       plugin.destroy();\n      //     }\n      //   }\n      // });\n    }\n    // Reconfigure reveal.js\n    Reveal.configure(config);\n  }, [configStr, args[\"allow_unsafe_html\"]]);\n\n  useEffect(() => {\n    const initState = JSON.parse(initStateStr);\n    if (Reveal.isReady() && Object.keys(initState).length !== 0){\n      Reveal.setState(initState);\n    }\n  }, [initStateStr]);\n\n  useEffect(() => {\n    if (Reveal.isReady()){\n      if (disabled){\n        Reveal.togglePause(true);\n        let viewport = Reveal.getViewportElement();\n        if (viewport){\n          viewport.style.pointerEvents = \"none\";\n        }\n      }\n      else {  \n        Reveal.togglePause(false);\n        let viewport = Reveal.getViewportElement();\n        if (viewport){\n          viewport.style.pointerEvents = \"auto\";\n        }\n      }\n    }\n  }, [disabled]);\n\n  //To do: add support for commands (i.e. control slides from Streamlit)\n  //-----------------\n  //\n\n\n  /**\n   * resizeObserver observes changes in elements its given to observe and is used here\n   * to communicate to streamlit the height of the component that has changed\n   * so that streamlit can adjust the iframe containing the component accordingly.\n   */\n  const resizeObserver = new ResizeObserver((entries: any) => {\n    // If we know that the body will always fully contain our component (without cutting it off)\n    // then we can use docuemnt.body height instead\n    if (args[\"height\"] === \"auto\" || typeof args[\"height\"] !== \"number\"){\n      Streamlit.setFrameHeight((entries[0].contentBoxSize.blockSize ?? entries[0].contentRect.height)); \n      if (Reveal.isReady()){\n        Reveal.layout();\n      }\n    }\n    else {\n      Streamlit.setFrameHeight(args[\"height\"]);\n      if (Reveal.isReady()){\n        Reveal.layout();\n      }\n    }\n    \n  })\n\n  const observe = (divElem: any) => {\n    divElem ? resizeObserver.observe(divElem as HTMLDivElement) : resizeObserver.disconnect();\n  }\n\n  if (args[\"allow_unsafe_html\"]) {\n    return (\n      <>\n        <GlobalCSS inject={args.css}/>\n        <DangerousDiv innerRef={observe} className=\"slides\" html={args[\"content\"]} />\n      </>\n    )\n  }\n  else {\n    return (\n      <>\n        <GlobalCSS inject={args.css}/>\n        <div ref={observe} className=\"slides\">\n          <section data-markdown={\"\"} {...args[\"markdown_props\"]}>\n            <script type={\"text/template\"}>\n              {args[\"content\"]}\n            </script>\n          </section>\n        </div>\n      </>\n    )\n  }\n}\n\n// \"withStreamlitConnection\" is a wrapper function. It bootstraps the\n// connection between your component and the Streamlit app, and handles\n// passing arguments from Python -> Component.\n//\n// You don't need to edit withStreamlitConnection (but you're welcome to!).\nexport default withStreamlitConnection(RevealSlides)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}