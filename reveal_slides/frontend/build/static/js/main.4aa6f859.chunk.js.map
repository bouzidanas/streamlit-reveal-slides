{"version":3,"sources":["../node_modules/reveal.js/dist/theme lazy /^/.//.*/.css$/ groupOptions: {} namespace object","RevealSlides.tsx","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","t","keys","Object","module","exports","RevealSymbolPerSlideProgress","GlobalCSS","createGlobalStyle","props","inject","includedPlugins","RevealMarkdown","RevealHighlight","RevealMath","KaTeX","MathJax2","MathJax3","RevealSearch","RevealNotes","RevealZoom","defaultConfig","width","height","margin","minScale","maxScale","controlsTutorial","controlsLayout","DangerousDiv","_ref","html","innerRef","rest","_objectWithoutProperties","_excluded","divRef","useRef","useEffect","newInnerHtml","document","createRange","createContextualFragment","current","innerHTML","appendChild","_jsx","_objectSpread","ref","element","withStreamlitConnection","_ref2","args","disabled","configStr","JSON","stringify","initStateStr","setupConfig","configString","config","parse","arr","forEach","moduleName","index","filter","x","includes","push","useMemo","theme","css","Reveal","layout","getConfig","externalPlugins","updateColors","symbolperslideprogress","updateNavigation","console","warn","catch","err","destroy","initialize","highlighter","getPlugin","init","initState","length","setState","plugin","default","currState","getState","Streamlit","setComponentValue","on","event","tempState","indexh","indexv","indexf","paused","overview","existingPlugins","getPlugins","existingPluginsList","values","indexOf","registerPlugin","configure","isReady","togglePause","viewport","getViewportElement","style","pointerEvents","resizeObserver","ResizeObserver","entries","_entries$0$contentBox","setFrameHeight","contentBoxSize","blockSize","contentRect","observe","divElem","disconnect","_jsxs","_Fragment","children","className","type","ReactDOM","render","React","StrictMode","RevealSlides","getElementById"],"mappings":"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","file":"static/js/main.4aa6f859.chunk.js","sourcesContent":["var map = {\n\t\"./beige.css\": [\n\t\t74,\n\t\t3\n\t],\n\t\"./black-contrast.css\": [\n\t\t75,\n\t\t10\n\t],\n\t\"./black.css\": [\n\t\t76,\n\t\t11\n\t],\n\t\"./blood.css\": [\n\t\t77,\n\t\t12\n\t],\n\t\"./dracula.css\": [\n\t\t78,\n\t\t16\n\t],\n\t\"./fonts/league-gothic/league-gothic.css\": [\n\t\t79,\n\t\t17\n\t],\n\t\"./fonts/source-sans-pro/source-sans-pro.css\": [\n\t\t80,\n\t\t18\n\t],\n\t\"./league.css\": [\n\t\t81,\n\t\t4\n\t],\n\t\"./moon.css\": [\n\t\t82,\n\t\t5\n\t],\n\t\"./night.css\": [\n\t\t83,\n\t\t6\n\t],\n\t\"./serif.css\": [\n\t\t84,\n\t\t19\n\t],\n\t\"./simple.css\": [\n\t\t85,\n\t\t7\n\t],\n\t\"./sky.css\": [\n\t\t86,\n\t\t8\n\t],\n\t\"./solarized.css\": [\n\t\t87,\n\t\t9\n\t],\n\t\"./white-contrast.css\": [\n\t\t88,\n\t\t13\n\t],\n\t\"./white.css\": [\n\t\t89,\n\t\t14\n\t],\n\t\"./white_contrast_compact_verbatim_headers.css\": [\n\t\t90,\n\t\t15\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 72;\nmodule.exports = webpackAsyncContext;","import {\n  Streamlit,\n  ComponentProps,\n  withStreamlitConnection,\n  Theme,\n} from \"streamlit-component-lib\"\nimport { MutableRefObject, useEffect, useMemo, useRef, lazy} from \"react\"\nimport { createGlobalStyle } from \"styled-components/macro\"\n\nimport Reveal from 'reveal.js';\nimport RevealMarkdown from 'reveal.js/plugin/markdown/markdown';\nimport RevealHighlight from 'reveal.js/plugin/highlight/highlight';\nimport RevealMath from 'reveal.js/plugin/math/math';\nimport RevealSearch from 'reveal.js/plugin/search/search';\nimport RevealNotes from 'reveal.js/plugin/notes/notes';\nimport RevealZoom from 'reveal.js/plugin/zoom/zoom';\n\nimport 'reveal.js/dist/reveal.css';\nimport 'reveal.js/plugin/highlight/monokai.css';\n\ninterface RevealSlidesProps extends ComponentProps {\n  args: any\n  width: number\n  disabled: boolean\n  theme?: Theme\n}\n\ninterface DangerousDivProps extends React.HTMLAttributes<HTMLDivElement> {\n  html: string;\n  innerRef: React.Ref<HTMLDivElement>;\n}\n\ntype SymbolPerSlideProgressType = {\n  id: string, \n  init: Function, \n  updateColors: Function, \n  updateNavigation: Function \n}\n\nlet RevealSymbolPerSlideProgress: SymbolPerSlideProgressType\n\nconst GlobalCSS = createGlobalStyle<{ inject: string}>`\n  ${props => props.inject}\n`\n\nconst includedPlugins = {\"markdown\": RevealMarkdown, \"highlight\": RevealHighlight, \"katex\": RevealMath.KaTeX, \"mathjax2\": RevealMath.MathJax2, \"mathjax3\": RevealMath.MathJax3, \"search\": RevealSearch, \"notes\": RevealNotes, \"zoom\": RevealZoom}\n// const simpleCommands = {\"left\": Reveal.left, \"right\": () => {Reveal.right()}, \"up\": Reveal.up, \"down\": Reveal.down, \"prev\": Reveal.prev, \"next\": Reveal.next, \"prevFragment\": Reveal.prevFragment, \"nextFragment\": Reveal.nextFragment, \"togglePause\": Reveal.togglePause, \"toggleAutoSlide\": Reveal.toggleAutoSlide, \"toggleHelp\": Reveal.toggleHelp, \"toggleOverview\": Reveal.toggleOverview, \"shuffle\": Reveal.shuffle}\n// const commandsWithArgs = {slide: Reveal.slide, togglePause: Reveal.togglePause, toggleAutoSlide: Reveal.toggleAutoSlide, toggleHelp: Reveal.toggleHelp, toggleOverview: Reveal.toggleOverview}\n\nconst defaultConfig = {\n  // The \"normal\" size of the presentation, aspect ratio will be preserved\n\t// when the presentation is scaled to fit different resolutions\n\twidth: 900,\n\theight: 860,\n\t\n\t// Factor of the display size that should remain empty around the content\n\tmargin: 0.05,\n\n\t// Bounds for smallest/largest possible scale to apply to content\n\tminScale: 0.1,\n\tmaxScale: 3.0,\n\n\t// Help the user learn the controls by providing hints, for example by\n\t// bouncing the down arrow when they first encounter a vertical slide\n\tcontrolsTutorial: true,\n\n\t// Determines where controls appear, \"edges\" or \"bottom-right\"\n\tcontrolsLayout: 'edges',\n}\n\n// This new component allows us to set the innerHTML of a div in a way \n// that allows code to be executed. THIS IS NOT SAFE. This is a workaround\n// for something that isnt allowed for a reason. The user of the `reveal_slides`\n// component is responsable for ensuring that the html (and js) they pass in is safe.\nconst DangerousDiv = ({html, innerRef, ...rest}: DangerousDivProps) => {\n\n  const divRef = useRef<HTMLDivElement>(null);\n\n  useEffect(function () {\n    if (!html) return;\n\n    const newInnerHtml = document.createRange().createContextualFragment(html); // Create a 'tiny' document and parse the html string\n    divRef.current!.innerHTML = ''; // Clear the container\n    divRef.current!.appendChild(newInnerHtml); // Append the new content\n  }, [html]);\n\n  return (\n    <div \n      ref={(element) => {\n        // This function passes the ref to the this div wrapper component\n        // AND passes it to the innerRef prop which is used by the parent\n        // of the wrapper component. This special handling allows for innerRef \n        // to be a function or a ref object.\n        (divRef as MutableRefObject<HTMLDivElement>).current = element as HTMLDivElement\n        if (typeof innerRef === 'function') {\n          innerRef(element)\n        }\n        else {\n          (innerRef as MutableRefObject<HTMLDivElement>).current = element as HTMLDivElement\n        }\n      }} \n      {...rest} />\n  )\n}\n\n// RevealSlides is the main component.\nconst RevealSlides = ({ args, disabled }: RevealSlidesProps) => {   \n\n  let configStr = JSON.stringify(args[\"config\"])\n  let initStateStr = JSON.stringify(args[\"initial_state\"])\n  // const commandStr = JSON.stringify(args[\"commands\"])\n\n  // This function takes the config object passed in from Streamlit and\n  // adjusts it to work with the reveal.js api. The appropriate plugin module\n  // is substituted in for each plugin name found in the 'plugins' attribute.\n  // Markdown plugin is always included regardless if it is in the config object or not.\n  const setupConfig = (configString: string) : object => {\n    const config = {...defaultConfig, ...JSON.parse(configStr)}\n    // code to run after render goes here\n    if (args[\"allow_unsafe_html\"]) {\n      if ('plugins' in config){\n        var arr = config['plugins'];\n        arr.forEach(function(moduleName: string, index: number) {\n          if (moduleName in includedPlugins){\n            arr[index] = (includedPlugins as any)[moduleName];\n          }\n          else {\n            arr[index] = null;\n          }\n        });\n        config['plugins'] = arr.filter((x:any) => !!x) as any[];\n      }\n    }\n    else {\n      if ('plugins' in config){\n        arr = config['plugins'];\n        arr.forEach(function(moduleName: string, index: number) {\n          if (moduleName in includedPlugins){\n            arr[index] = (includedPlugins as any)[moduleName];\n          }\n          else {\n            arr[index] = null;\n          }\n        });\n        config['plugins'] = arr.filter((x:any) => !!x) as any[];\n        if(!config['plugins'].includes(RevealMarkdown)){\n          config['plugins'].push(RevealMarkdown);\n        }\n      }\n      else {\n        config['plugins'] = [RevealMarkdown];\n      }\n    }\n    return config;\n  }\n\n  // This function handles `theme` changes. It imports the appropriate css file \n  // according to the theme name passed in from Streamlit.\n  useMemo(()=>{\n    // To do: remove or disable previously imported css. When the list of\n    // css imports exceed about 25, the page no longer updates.\n    // NOTE: According to the webpack.config.js file found in the react-scripts node_module, \n    // the style-loader is used in development mode and MiniCssExtractPlugin.loader is used in\n    // production mode. This means that the css is injected into the page (by adding `<style>` \n    // elements to header) in development mode and is extracted into a separate file \n    // (and adding link elements to header with href pointing to files) in production mode.\n    // It may be possible to alter settings/options to force these loaders to replace the css \n    // added for previous themes with the css for the current.\n    import('../node_modules/reveal.js/dist/theme/' + args.theme + '.css').then((css) => {\n      try{\n        Reveal.layout();\n\n        // Force the symbol-per-slide-progress plugin to update its colors if the plugin is loaded\n        if( RevealSymbolPerSlideProgress && \"externalPlugins\" in (Reveal.getConfig() as any) && ((Reveal.getConfig() as any).externalPlugins as string[]).includes(\"symbolperslideprogress\")){ \n          RevealSymbolPerSlideProgress.updateColors((Reveal.getConfig() as any).symbolperslideprogress || {});\n          RevealSymbolPerSlideProgress.updateNavigation()\n        }\n      }\n      catch (e){\n        console.warn(\"Reveal.layout() call failed.\")\n      }\n\n      // const tempList = Array.from(document.head.childNodes)\n      // console.log(([] as ChildNode[]).concat(tempList))\n    }).catch((err) => {\n      console.warn(\"Failed CSS import: \", err);\n    });\n\n  }, [args.theme]);\n\n  // Initialize reveal.js\n  useEffect(() => {\n    const config = setupConfig(configStr)\n    \n    try {\n      Reveal.destroy();\n    }\n    catch (e) {\n    }\n    Reveal.initialize(config).then(() => {\n      // reveal.js is ready\n      \n      // For some yet to be determined reason, the highlight plugin is not initialized.\n      // Setting highlight config option highlightOnLoad to true (before passing to initialize function)\n      // does not work\n      // To Do: make sure the highlight plugin only changes the HTML involving the code once instead of many times.\n      // Possible solution is to make a change to the plugin init function.\n      let highlighter = Reveal.getPlugin('highlight') as any;\n      if (highlighter){\n        highlighter.init(Reveal);\n      }\n      \n      const initState = JSON.parse(initStateStr);\n      if(Object.keys(initState).length !== 0){\n        Reveal.setState(initState);\n      }\n\n      if(\"externalPlugins\" in (Reveal.getConfig() as any) && ((Reveal.getConfig() as any).externalPlugins as string[]).includes(\"symbolperslideprogress\")){\n        import('reveal.js-symbol-per-slide-progress').then((plugin) => {\n          RevealSymbolPerSlideProgress = plugin.default\n          RevealSymbolPerSlideProgress.init(Reveal);\n        });        \n      }\n\n      if(!args['display_only']){\n        // Send slide position indecies back to Streamlit on initialization and on slide change\n        const currState = Reveal.getState();\n        Streamlit.setComponentValue(currState);\n        Reveal.on( 'slidechanged', event => {\n\n          const tempState = Reveal.getState();\n          Streamlit.setComponentValue({indexh: (event as any).indexh, indexv: (event as any).indexv, indexf: tempState.indexf, paused: tempState.paused, overview: tempState.overview});\n        });\n        \n        Reveal.on( 'fragmentshown', event => {\n          // event.fragment = the fragment DOM element\n          const tempState = Reveal.getState();\n          Streamlit.setComponentValue(tempState);\n        } );\n        Reveal.on( 'fragmenthidden', event => {\n          // event.fragment = the fragment DOM element\n          const tempState = Reveal.getState();\n          Streamlit.setComponentValue(tempState);\n        } );\n        Reveal.on( 'overviewshown', event => {\n          // event.overview = the overview DOM element\n          const tempState = Reveal.getState();\n          Streamlit.setComponentValue(tempState);\n        } );\n        Reveal.on( 'overviewhidden', event => {\n          // event.overview = the overview DOM element\n          const tempState = Reveal.getState();\n          Streamlit.setComponentValue(tempState);\n        } );\n        Reveal.on( 'paused', event => {\n          // event.fragment = the fragment DOM element\n          const tempState = Reveal.getState();\n          Streamlit.setComponentValue(tempState);\n        } );\n        Reveal.on( 'resumed', event => {\n          // event.fragment = the fragment DOM element\n          const tempState = Reveal.getState();\n          Streamlit.setComponentValue(tempState);\n        } );\n      }\n\n    });\n\n    return () => {\n      // code to run on component unmount goes here\n      Reveal.destroy();  \n    }\n  }, []);\n\n  // Reconfigure reveal.js if config changes\n  useEffect(() => {\n    const existingPlugins = Reveal.getPlugins();\n    const config = setupConfig(configStr)\n\n    // Add and register plugins that are not already loaded\n    let existingPluginsList : string[] = Object.values(existingPlugins).map((plugin: any) => plugin.id);\n    if('plugins' in args[\"config\"]){\n      const plugins = args[\"config\"][\"plugins\"];\n      (plugins as string[]).forEach((plugin: string) => {\n        if (plugin && existingPluginsList.indexOf(plugin) === -1){\n          Reveal.registerPlugin((includedPlugins as any)[plugin]);\n        }\n      });\n\n      //// Remove plugins that are no longer in the list (does not work yet..some signs there is a bug in Reveal.Plugin)\n      // Object.values(existingPlugins as {[id: string]: Reveal.Plugin;}).forEach((plugin: any) => {\n      //   if (plugin.id && plugin.id !=='markdown' && plugins.indexOf(plugin.id) === -1){\n      //     console.log(\"destroy plugin: \" + plugin.id);\n      //     if( typeof plugin.destroy === 'function' ) {\n      //       plugin.destroy();\n      //     }\n      //   }\n      // });\n    }\n    // Reconfigure reveal.js\n    Reveal.configure(config);\n  }, [configStr, args[\"allow_unsafe_html\"]]);\n\n  // When reveal.js is ready (after initialization or reconfiguration), \n  // set the initial state if it is passed in from Streamlit.\n  useEffect(() => {\n    const initState = JSON.parse(initStateStr);\n    if (Reveal.isReady() && Object.keys(initState).length !== 0){\n      Reveal.setState(initState);\n    }\n  }, [initStateStr]);\n\n  // Disable reveal.js if disabled is true\n  useEffect(() => {\n    if (Reveal.isReady()){\n      if (disabled){\n        Reveal.togglePause(true);\n        let viewport = Reveal.getViewportElement();\n        if (viewport){\n          viewport.style.pointerEvents = \"none\";\n        }\n      }\n      else {  \n        Reveal.togglePause(false);\n        let viewport = Reveal.getViewportElement();\n        if (viewport){\n          viewport.style.pointerEvents = \"auto\";\n        }\n      }\n    }\n  }, [disabled]);\n\n  //To do: add support for commands (i.e. control slides from Streamlit)\n  //--------------------------------------------------------------------\n\n  /**\n   * resizeObserver observes changes in elements its given to observe and is used here\n   * to communicate to streamlit the height of the component that has changed\n   * so that streamlit can adjust the iframe containing the component accordingly.\n   */\n  const resizeObserver = new ResizeObserver((entries: any) => {\n    // If we know that the body will always fully contain our component (without cutting it off)\n    // then we can use docuemnt.body height instead\n    if (args[\"height\"] === \"auto\" || typeof args[\"height\"] !== \"number\"){\n      Streamlit.setFrameHeight((entries[0].contentBoxSize.blockSize ?? entries[0].contentRect.height)); \n      if (Reveal.isReady()){\n        Reveal.layout();\n      }\n    }\n    else {\n      Streamlit.setFrameHeight(args[\"height\"]);\n      if (Reveal.isReady()){\n        Reveal.layout();\n      }\n    }\n    \n  })\n\n  const observe = (divElem: any) => {\n    divElem ? resizeObserver.observe(divElem as HTMLDivElement) : resizeObserver.disconnect();\n  }\n\n  if (args[\"allow_unsafe_html\"]) {\n    return (\n      <>\n        <GlobalCSS inject={args.css}/>\n        <DangerousDiv innerRef={observe} className=\"slides\" html={args[\"content\"]} />\n      </>\n    )\n  }\n  else {\n    return (\n      <>\n        <GlobalCSS inject={args.css}/>\n        <div ref={observe} className=\"slides\">\n          <section data-markdown={\"\"} {...args[\"markdown_props\"]}>\n            <script type={\"text/template\"}>\n              {args[\"content\"]}\n            </script>\n          </section>\n        </div>\n      </>\n    )\n  }\n}\n\n// \"withStreamlitConnection\" is a wrapper function. It bootstraps the\n// connection between your component and the Streamlit app, and handles\n// passing arguments from Python -> Component.\n//\n// You don't need to edit withStreamlitConnection (but you're welcome to!).\nexport default withStreamlitConnection(RevealSlides)","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport RevealSlides from \"./RevealSlides\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <RevealSlides />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}